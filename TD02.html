<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Benedetta Palmieri">

<title>Selección de la ciudad europea más sostenible para vivir</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="TD02_files/libs/clipboard/clipboard.min.js"></script>
<script src="TD02_files/libs/quarto-html/quarto.js"></script>
<script src="TD02_files/libs/quarto-html/popper.min.js"></script>
<script src="TD02_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="TD02_files/libs/quarto-html/anchor.min.js"></script>
<link href="TD02_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="TD02_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="TD02_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="TD02_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="TD02_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="TD02_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="TD02_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="TD02_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="TD02_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="TD02_files/libs/viz-1.8.2/viz.js"></script>
<link href="TD02_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="TD02_files/libs/grViz-binding-1.0.11/grViz.js"></script>
<script src="TD02_files/libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="TD02_files/libs/formattable_widget-binding-0.2.1/formattable_widget.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#presentación" id="toc-presentación" class="nav-link active" data-scroll-target="#presentación"><span class="header-section-number">1</span> Presentación</a></li>
  <li><a href="#metodo-ahp" id="toc-metodo-ahp" class="nav-link" data-scroll-target="#metodo-ahp"><span class="header-section-number">2</span> Metodo AHP</a>
  <ul class="collapse">
  <li><a href="#resolución-con-las-funciones" id="toc-resolución-con-las-funciones" class="nav-link" data-scroll-target="#resolución-con-las-funciones"><span class="header-section-number">2.1</span> Resolución con las funciones</a>
  <ul class="collapse">
  <li><a href="#estudio-de-la-inconsistencia" id="toc-estudio-de-la-inconsistencia" class="nav-link" data-scroll-target="#estudio-de-la-inconsistencia"><span class="header-section-number">2.1.1</span> Estudio de la inconsistencia</a></li>
  <li><a href="#pesos-locales" id="toc-pesos-locales" class="nav-link" data-scroll-target="#pesos-locales"><span class="header-section-number">2.1.2</span> Pesos locales</a></li>
  <li><a href="#pesos-globales" id="toc-pesos-globales" class="nav-link" data-scroll-target="#pesos-globales"><span class="header-section-number">2.1.3</span> Pesos globales</a></li>
  <li><a href="#en-forma-de-diagram" id="toc-en-forma-de-diagram" class="nav-link" data-scroll-target="#en-forma-de-diagram"><span class="header-section-number">2.1.4</span> En forma de diagram</a></li>
  </ul></li>
  <li><a href="#resolución-con-paquete-ahp" id="toc-resolución-con-paquete-ahp" class="nav-link" data-scroll-target="#resolución-con-paquete-ahp"><span class="header-section-number">2.2</span> Resolución con paquete AHP</a></li>
  </ul></li>
  <li><a href="#metodo-ahp---multinivel" id="toc-metodo-ahp---multinivel" class="nav-link" data-scroll-target="#metodo-ahp---multinivel"><span class="header-section-number">3</span> Metodo AHP - MULTINIVEL</a>
  <ul class="collapse">
  <li><a href="#resolución-con-las-funciones-1" id="toc-resolución-con-las-funciones-1" class="nav-link" data-scroll-target="#resolución-con-las-funciones-1"><span class="header-section-number">3.1</span> Resolución con las funciones</a></li>
  <li><a href="#resolución-con-paquete-ahp-1" id="toc-resolución-con-paquete-ahp-1" class="nav-link" data-scroll-target="#resolución-con-paquete-ahp-1"><span class="header-section-number">3.2</span> Resolución con paquete AHP</a></li>
  </ul></li>
  <li><a href="#metodo-electre" id="toc-metodo-electre" class="nav-link" data-scroll-target="#metodo-electre"><span class="header-section-number">4</span> Metodo ELECTRE</a>
  <ul class="collapse">
  <li><a href="#iteración-1" id="toc-iteración-1" class="nav-link" data-scroll-target="#iteración-1"><span class="header-section-number">4.1</span> Iteración 1</a></li>
  <li><a href="#iteración-2-reducir-alternativas" id="toc-iteración-2-reducir-alternativas" class="nav-link" data-scroll-target="#iteración-2-reducir-alternativas"><span class="header-section-number">4.2</span> Iteración 2: reducir alternativas</a></li>
  <li><a href="#iteración-3-reducir-alpha" id="toc-iteración-3-reducir-alpha" class="nav-link" data-scroll-target="#iteración-3-reducir-alpha"><span class="header-section-number">4.3</span> Iteración 3: reducir alpha</a></li>
  </ul></li>
  <li><a href="#metodo-promethee" id="toc-metodo-promethee" class="nav-link" data-scroll-target="#metodo-promethee"><span class="header-section-number">5</span> Metodo PROMETHEE</a>
  <ul class="collapse">
  <li><a href="#promethee-i" id="toc-promethee-i" class="nav-link" data-scroll-target="#promethee-i"><span class="header-section-number">5.1</span> Promethee I:</a></li>
  <li><a href="#promethee-ii" id="toc-promethee-ii" class="nav-link" data-scroll-target="#promethee-ii"><span class="header-section-number">5.2</span> Promethee II:</a></li>
  <li><a href="#promethee-i-medias" id="toc-promethee-i-medias" class="nav-link" data-scroll-target="#promethee-i-medias"><span class="header-section-number">5.3</span> Promethee I (medias):</a></li>
  <li><a href="#promethee-ii-medias" id="toc-promethee-ii-medias" class="nav-link" data-scroll-target="#promethee-ii-medias"><span class="header-section-number">5.4</span> Promethee II (medias):</a></li>
  <li><a href="#promethee-windows" id="toc-promethee-windows" class="nav-link" data-scroll-target="#promethee-windows"><span class="header-section-number">5.5</span> Promethee windows</a></li>
  </ul></li>
  <li><a href="#conclusión" id="toc-conclusión" class="nav-link" data-scroll-target="#conclusión"><span class="header-section-number">6</span> Conclusión</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="TD02.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Selección de la ciudad europea más sostenible para vivir</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Benedetta Palmieri </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="presentación" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Presentación</h1>
<p>En la actualidad, las ciudades europeas afrontan el reto de avanzar hacia un desarrollo más sostenible, buscando un equilibrio entre el crecimiento económico, la protección del medio ambiente y el bienestar de sus habitantes. La sostenibilidad urbana se ha convertido, por tanto, en un tema clave de las políticas públicas y es un factor determinante en la calidad de vida de las personas.</p>
<p>El objetivo de este trabajo es <strong>evaluar y comparar el nivel de sostenibilidad de varias ciudades europeas</strong>, con el fin de seleccionar aquella que puede considerarse la <strong>más sostenible para vivir</strong>. Para ello, se aplican diferentes <strong>métodos de decisión multicriterio</strong> (AHP, ELECTRE y PROMETHEE) que permiten ponderar factores ambientales, sociales y económicos.</p>
<p>Los criterios utilizados se basan en indicadores objetivos y reconocidos a nivel internacional, obtenidos de la base de datos pública <strong>Numbeo</strong>, que ofrece información sobre coste de vida, poder adquisitivo, seguridad, calidad del sistema sanitario y nivel de contaminación en las principales ciudades del mundo.</p>
<p>Este tema resulta relevante por su importancia social y ambiental en un contexto donde el cambio climatico y la calidad de vida son preocupaciones crecientes.</p>
<p>Se seleccionaron cinco capitales europeas (Copenhague, Berlín, París, Madrid y Roma) por representar distintas zonas y realidades de Europa. Los seis criterios elegidos (Cost of Living, Rent, Purchasing Power, Safety, Health Care y Pollution) permiten evaluar de forma integral la sostenibilidad y la calidad de vida en cada ciudad.</p>
<p><strong>Fuente de datos:</strong></p>
<p>Los valores de los índices proceden de la base de datos Numbeo (consultada en inicio noviembre 2025). Es importante mencionar que los datos pueden variar ligeramente debido a las actualizaciones continuas: <a href="https://www.numbeo.com/" class="uri">https://www.numbeo.com</a>/</p>
<p><strong>Criterios (indices) y alternativas (ciudades) consideradas:</strong></p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Criterios considerados, escala e interpretación</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Criterio</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Escala</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Tipo</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Interpretación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Cost of Living Index</td>
<td style="text-align: left;">IR</td>
<td style="text-align: left;">Costo (min)</td>
<td style="text-align: left; width: 8cm;">Mide el costo medio de bienes y servicios; valores altos indican ciudades más caras.</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Rent Index</td>
<td style="text-align: left;">IR</td>
<td style="text-align: left;">Costo (min)</td>
<td style="text-align: left; width: 8cm;">Refleja el nivel medio de los alquileres; valores altos significan alquileres más elevados.</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Purchasing Power Index</td>
<td style="text-align: left;">IR</td>
<td style="text-align: left;">Beneficio (max)</td>
<td style="text-align: left; width: 8cm;">Evalúa el poder adquisitivo medio en relación con los precios locales; valores altos indican mayor capacidad económica.</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Safety Index</td>
<td style="text-align: left;">0–100</td>
<td style="text-align: left;">Beneficio (max)</td>
<td style="text-align: left; width: 8cm;">Representa la percepción de seguridad ciudadana; valores altos indican ciudades más seguras.</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Health Care Index</td>
<td style="text-align: left;">0–100</td>
<td style="text-align: left;">Beneficio (max)</td>
<td style="text-align: left; width: 8cm;">Evalúa la calidad percibida del sistema sanitario (acceso, competencia, infraestructura).</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Pollution Index</td>
<td style="text-align: left;">0–100</td>
<td style="text-align: left;">Costo (min)</td>
<td style="text-align: left; width: 8cm;">Mide el nivel de contaminación ambiental; valores altos implican peores condiciones medioambientales.</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>En escala orginal, IR indica indice relativo con base Nueva York = 100. Los criterios de costos son da minimizar, mientras que los de beneficios son da maximizar.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Datos de las ciudades para cada índice</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">City</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost.Living</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purchasing.Pwr</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health.Care</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">85.1</td>
<td style="text-align: right; width: 2cm;">48.0</td>
<td style="text-align: right; width: 2cm;">120.3</td>
<td style="text-align: right; width: 2cm;">74.3</td>
<td style="text-align: right; width: 2cm;">76.7</td>
<td style="text-align: right; width: 2cm;">22.1</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">68.9</td>
<td style="text-align: right; width: 2cm;">37.1</td>
<td style="text-align: right; width: 2cm;">126.7</td>
<td style="text-align: right; width: 2cm;">55.5</td>
<td style="text-align: right; width: 2cm;">66.7</td>
<td style="text-align: right; width: 2cm;">38.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">76.8</td>
<td style="text-align: right; width: 2cm;">45.5</td>
<td style="text-align: right; width: 2cm;">114.5</td>
<td style="text-align: right; width: 2cm;">42.0</td>
<td style="text-align: right; width: 2cm;">76.9</td>
<td style="text-align: right; width: 2cm;">63.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">58.1</td>
<td style="text-align: right; width: 2cm;">38.5</td>
<td style="text-align: right; width: 2cm;">96.5</td>
<td style="text-align: right; width: 2cm;">71.3</td>
<td style="text-align: right; width: 2cm;">79.9</td>
<td style="text-align: right; width: 2cm;">37.7</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">61.7</td>
<td style="text-align: right; width: 2cm;">35.4</td>
<td style="text-align: right; width: 2cm;">81.0</td>
<td style="text-align: right; width: 2cm;">52.6</td>
<td style="text-align: right; width: 2cm;">64.9</td>
<td style="text-align: right; width: 2cm;">48.9</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Representación gráfica</strong> para observar las diferencias entre las ciudades de forma visual.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Transformo los criterios para que todos sean de <strong>maximizar</strong>, colocando un signo negativo delante de los valores que inicialmente correspondían a criterios de coste.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Datos transformados a criterios de maximización</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">City</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost.Living</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purchasing.Pwr</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health.Care</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">-85.1</td>
<td style="text-align: right; width: 2cm;">-48.0</td>
<td style="text-align: right; width: 2cm;">120.3</td>
<td style="text-align: right; width: 2cm;">74.3</td>
<td style="text-align: right; width: 2cm;">76.7</td>
<td style="text-align: right; width: 2cm;">-22.1</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">-68.9</td>
<td style="text-align: right; width: 2cm;">-37.1</td>
<td style="text-align: right; width: 2cm;">126.7</td>
<td style="text-align: right; width: 2cm;">55.5</td>
<td style="text-align: right; width: 2cm;">66.7</td>
<td style="text-align: right; width: 2cm;">-38.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">-76.8</td>
<td style="text-align: right; width: 2cm;">-45.5</td>
<td style="text-align: right; width: 2cm;">114.5</td>
<td style="text-align: right; width: 2cm;">42.0</td>
<td style="text-align: right; width: 2cm;">76.9</td>
<td style="text-align: right; width: 2cm;">-63.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">-58.1</td>
<td style="text-align: right; width: 2cm;">-38.5</td>
<td style="text-align: right; width: 2cm;">96.5</td>
<td style="text-align: right; width: 2cm;">71.3</td>
<td style="text-align: right; width: 2cm;">79.9</td>
<td style="text-align: right; width: 2cm;">-37.7</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">-61.7</td>
<td style="text-align: right; width: 2cm;">-35.4</td>
<td style="text-align: right; width: 2cm;">81.0</td>
<td style="text-align: right; width: 2cm;">52.6</td>
<td style="text-align: right; width: 2cm;">64.9</td>
<td style="text-align: right; width: 2cm;">-48.9</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Normalizo los valores con el <strong>método Nadir</strong>, para que todos los criterios sean expresados en una escala común entre 0 y 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">matrix</span>( <span class="fu">c</span>(<span class="sc">-</span><span class="fl">85.1</span>, <span class="sc">-</span><span class="fl">68.9</span>, <span class="sc">-</span><span class="fl">76.8</span>, <span class="sc">-</span><span class="fl">58.1</span>, <span class="sc">-</span><span class="fl">61.7</span>, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>              <span class="sc">-</span><span class="fl">48.0</span>, <span class="sc">-</span><span class="fl">37.1</span>, <span class="sc">-</span><span class="fl">45.5</span>, <span class="sc">-</span><span class="fl">38.5</span>, <span class="sc">-</span><span class="fl">35.4</span>, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>              <span class="fl">120.3</span>, <span class="fl">126.7</span>, <span class="fl">114.5</span>, <span class="fl">96.5</span>, <span class="fl">81.0</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>              <span class="fl">74.3</span>, <span class="fl">55.5</span>, <span class="fl">42.0</span>, <span class="fl">71.3</span>, <span class="fl">52.6</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>              <span class="fl">76.7</span>, <span class="fl">66.7</span>, <span class="fl">76.9</span>, <span class="fl">79.9</span>, <span class="fl">64.9</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>              <span class="sc">-</span><span class="fl">22.1</span>, <span class="sc">-</span><span class="fl">38.4</span>, <span class="sc">-</span><span class="fl">63.5</span>, <span class="sc">-</span><span class="fl">37.7</span>, <span class="sc">-</span><span class="fl">48.9</span>), <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">6</span>, <span class="at">byrow=</span>F);</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(X) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'Cost of Living Index'</span>, <span class="st">'Rent Index'</span>, <span class="st">'Purchasing Power Index'</span>, </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Safety Index'</span>, <span class="st">'Health care Index'</span>, <span class="st">'Pollution Index'</span>);</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(X) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'Copenhagen'</span>, <span class="st">'Berlin'</span>, <span class="st">'Paris'</span>, <span class="st">'Madrid'</span>, <span class="st">'Rome'</span>);</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>vcol.max <span class="ot">=</span> <span class="fu">apply</span>(X,<span class="dv">2</span>,max)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>vcol.min <span class="ot">=</span> <span class="fu">apply</span>(X,<span class="dv">2</span>,min)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>m.vol.max <span class="ot">=</span> <span class="fu">matrix</span>(vcol.max,<span class="dv">5</span>,<span class="dv">6</span>,<span class="at">byrow=</span>T)</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>m.vol.min <span class="ot">=</span> <span class="fu">matrix</span>(vcol.min,<span class="dv">5</span>,<span class="dv">6</span>,<span class="at">byrow=</span>T)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>nueva.X <span class="ot">=</span> (X<span class="sc">-</span>m.vol.min)<span class="sc">/</span>(m.vol.max<span class="sc">-</span>m.vol.min)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz de valores normalizados</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost of Living Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purchasing Power Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health care Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">0.0000000</td>
<td style="text-align: right; width: 2cm;">0.0000000</td>
<td style="text-align: right; width: 2cm;">0.8599562</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.7866667</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm;">Berlin</td>
<td style="text-align: right; width: 2cm;">0.6000000</td>
<td style="text-align: right; width: 2cm;">0.8650794</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.4179567</td>
<td style="text-align: right; width: 2cm;">0.1200000</td>
<td style="text-align: right; width: 2cm;">0.6062802</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm;">Paris</td>
<td style="text-align: right; width: 2cm;">0.3074074</td>
<td style="text-align: right; width: 2cm;">0.1984127</td>
<td style="text-align: right; width: 2cm;">0.7330416</td>
<td style="text-align: right; width: 2cm;">0.0000000</td>
<td style="text-align: right; width: 2cm;">0.8000000</td>
<td style="text-align: right; width: 2cm;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm;">Madrid</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.7539683</td>
<td style="text-align: right; width: 2cm;">0.3391685</td>
<td style="text-align: right; width: 2cm;">0.9071207</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.6231884</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm;">Rome</td>
<td style="text-align: right; width: 2cm;">0.8666667</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.0000000</td>
<td style="text-align: right; width: 2cm;">0.3281734</td>
<td style="text-align: right; width: 2cm;">0.0000000</td>
<td style="text-align: right; width: 2cm;">0.3526570</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Rapresentación grafica de los valores normalizados.</strong></p>
<p>Los valores proximos a 1 indican un mejor comportamiento, mientras que los valores proximos a 0 representan un rendimiento mas bajo en el criterio correspondiente.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Se cargan los archivos que contienen las funciones necesarias para el análisis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio.R"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_diagram.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: shape</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"teoriadecision_funciones_multicriterio_utiles.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="metodo-ahp" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Metodo AHP</h1>
<section id="resolución-con-las-funciones" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="resolución-con-las-funciones"><span class="header-section-number">2.1</span> Resolución con las funciones</h2>
<p>Para construir las matrices de comparación entre las ciudades para cada criterio, se transformaron los valores de los índices de Numbeo a la escala de Saaty (1–9), asignando un valor entre 1 y 3 cuando la diferencia es moderada, 5 cuando es fuerte, y entre 7 y 9 cuando es muy fuerte o extrema.</p>
<p>En la matriz de comparación entre los criterios, los valores asignados reflejan la importancia relativa de cada criterio según la escala de Saaty (1–9), considerando su relevancia en la evaluación de la sostenibilidad urbana.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>tb_criterios <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">6</span>, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span>),</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">numalternativas =</span> <span class="dv">6</span>, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                              <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">c</span>(<span class="st">'Cost of Living Index'</span>,<span class="st">'Rent Index'</span>,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">'Purchasing Power Index'</span>, <span class="st">'Safety Index'</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">'Health care Index'</span>,<span class="st">'Pollution Index'</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                              );</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>tb_cost <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>),</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>tb_rent <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>), </span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>tb_purch <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">7</span>, </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">5</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>), </span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>tb_safety <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">5</span>,</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, </span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>),</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>tb_health <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,<span class="dv">4</span>,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,<span class="dv">2</span>,</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,<span class="dv">4</span>,</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">5</span>), </span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>tb_pollution <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">5</span>,</span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>,</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>), </span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz de criterios</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost of Living Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purchasing Power Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health care Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 1.5cm; font-weight: bold;">Cost of Living Index</td>
<td style="text-align: right; width: 1.5cm;">1.0</td>
<td style="text-align: right; width: 1.5cm;">2</td>
<td style="text-align: right; width: 1.5cm;">0.5000000</td>
<td style="text-align: right; width: 1.5cm;">0.50</td>
<td style="text-align: right; width: 1.5cm;">0.50</td>
<td style="text-align: right; width: 1.5cm;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.5cm; font-weight: bold;">Rent Index</td>
<td style="text-align: right; width: 1.5cm;">0.5</td>
<td style="text-align: right; width: 1.5cm;">1</td>
<td style="text-align: right; width: 1.5cm;">0.3333333</td>
<td style="text-align: right; width: 1.5cm;">0.25</td>
<td style="text-align: right; width: 1.5cm;">0.25</td>
<td style="text-align: right; width: 1.5cm;">0.1666667</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.5cm; font-weight: bold;">Purchasing Power Index</td>
<td style="text-align: right; width: 1.5cm;">2.0</td>
<td style="text-align: right; width: 1.5cm;">3</td>
<td style="text-align: right; width: 1.5cm;">1.0000000</td>
<td style="text-align: right; width: 1.5cm;">0.50</td>
<td style="text-align: right; width: 1.5cm;">0.50</td>
<td style="text-align: right; width: 1.5cm;">0.5000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.5cm; font-weight: bold;">Safety Index</td>
<td style="text-align: right; width: 1.5cm;">2.0</td>
<td style="text-align: right; width: 1.5cm;">4</td>
<td style="text-align: right; width: 1.5cm;">2.0000000</td>
<td style="text-align: right; width: 1.5cm;">1.00</td>
<td style="text-align: right; width: 1.5cm;">1.00</td>
<td style="text-align: right; width: 1.5cm;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.5cm; font-weight: bold;">Health care Index</td>
<td style="text-align: right; width: 1.5cm;">2.0</td>
<td style="text-align: right; width: 1.5cm;">4</td>
<td style="text-align: right; width: 1.5cm;">2.0000000</td>
<td style="text-align: right; width: 1.5cm;">1.00</td>
<td style="text-align: right; width: 1.5cm;">1.00</td>
<td style="text-align: right; width: 1.5cm;">1.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.5cm; font-weight: bold;">Pollution Index</td>
<td style="text-align: right; width: 1.5cm;">3.0</td>
<td style="text-align: right; width: 1.5cm;">6</td>
<td style="text-align: right; width: 1.5cm;">2.0000000</td>
<td style="text-align: right; width: 1.5cm;">2.00</td>
<td style="text-align: right; width: 1.5cm;">1.00</td>
<td style="text-align: right; width: 1.5cm;">1.0000000</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Cost Of Living Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right;">0.2500000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">2</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right; width: 2cm;">0.2500000</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">3.0000000</td>
<td style="text-align: right; width: 2cm;">4.0</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right;">2.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">4</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">0.5000000</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Rent Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">0.2500000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">2</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right; width: 2cm;">0.5000000</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">0.5000000</td>
<td style="text-align: right; width: 2cm;">2.0</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">4</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Purchasing Power Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.5000000</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right; width: 2cm;">5.0</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0000000</td>
<td style="text-align: right; width: 2cm;">6.0</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">0.5000000</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right; width: 2cm;">0.1666667</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">0.1666667</td>
<td style="text-align: right; width: 2cm;">0.1428571</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Safety Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1.00</td>
<td style="text-align: right; width: 2cm;">4.0</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right;">5.0</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">0.25</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right; width: 2cm;">2</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">1.0</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">0.20</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">0.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">0.50</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right;">3.0</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">0.20</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right; width: 2cm;">2</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">1.0</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Health Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.50</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">0.25</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">0.50</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right; width: 2cm;">4.0</td>
<td style="text-align: right; width: 2cm;">2.0000000</td>
<td style="text-align: right; width: 2cm;">1.00</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">0.2500000</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right; width: 2cm;">0.2500000</td>
<td style="text-align: right; width: 2cm;">0.20</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Pollution Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3.0000000</td>
<td style="text-align: right; width: 2cm;">7</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right;">5.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right;">3.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">0.1428571</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.2</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right;">2.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="estudio-de-la-inconsistencia" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="estudio-de-la-inconsistencia"><span class="header-section-number">2.1.1</span> Estudio de la inconsistencia</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Inc_criterios <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_criterios)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_criterios<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_criterios<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0132"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>Inc_cost <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_cost)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_cost<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_cost<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0269"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Inc_rent <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_rent)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_rent<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_rent<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.024"                 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Inc_purch <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_purch)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_purch<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_purch<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0203"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>Inc_safety <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_safety)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_safety<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_safety<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0175"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>Inc_health <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_health)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_health<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_health<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0119"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Inc_pollution <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_pollution)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_pollution<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_pollution<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0242"                </code></pre>
</div>
</div>
<p>El estudio de la inconsistencia sirve para verificar la coherencia entre los juicios de las matrices AHP. En este caso, todos los coeficientes de inconsistencia son bajos y están por debajo de 0.1; por tanto los juicios pueden considerarse coherentes.</p>
</section>
<section id="pesos-locales" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="pesos-locales"><span class="header-section-number">2.1.2</span> Pesos locales</h3>
<p>Cálculo de los <strong>pesos locales</strong> de los criterios entre sí y de las alternativas dentro de cada criterio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>p_criterios <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>              tb_criterios)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>p_criterios<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Cost of Living Index             Rent Index Purchasing Power Index 
            0.09401851             0.04888298             0.13674234 
          Safety Index      Health care Index        Pollution Index 
            0.20253783             0.22648965             0.29132868 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>p_cost <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_cost)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>p_cost<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.06093247 0.17485588 0.08988382 0.41456792 0.25975991 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>p_rent <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_rent)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>p_rent<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.07223072 0.26652950 0.10904732 0.18321436 0.36897810 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>p_purch <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>          tb_purch)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>p_purch<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.28228349 0.43589670 0.17182955 0.06671487 0.04327540 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>p_safety <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>           tb_safety)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>p_safety<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.45134332 0.10933371 0.07001099 0.26442217 0.10488981 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>p_health <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>           tb_health)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>p_health<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.23028345 0.09095138 0.23028345 0.38962764 0.05885407 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>p_pollution <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>              tb_pollution)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>p_pollution<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.47263799 0.20447773 0.04305389 0.18613571 0.09369468 </code></pre>
</div>
</div>
</section>
<section id="pesos-globales" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="pesos-globales"><span class="header-section-number">2.1.3</span> Pesos globales</h3>
<p>Calculo de los <strong>pesos globales</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>p_global <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.pesosglobales_entabla</span>( </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>                p_criterios<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>                <span class="fu">rbind</span>(p_cost<span class="sc">$</span>valoraciones.ahp, p_rent<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>                      p_purch<span class="sc">$</span>valoraciones.ahp, p_safety<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>                      p_health<span class="sc">$</span>valoraciones.ahp, p_pollution<span class="sc">$</span>valoraciones.ahp)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>                      )</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>p_global</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Cost of Living Index Rent Index Purchasing Power Index
Copenhagen                 0.06093247 0.07223072             0.28228349
Berlin                     0.17485588 0.26652950             0.43589670
Paris                      0.08988382 0.10904732             0.17182955
Madrid                     0.41456792 0.18321436             0.06671487
Rome                       0.25975991 0.36897810             0.04327540
Ponder.Criterios           0.09401851 0.04888298             0.13674234
                 Safety Index Health care Index Pollution Index
Copenhagen         0.45134332        0.23028345      0.47263799
Berlin             0.10933371        0.09095138      0.20447773
Paris              0.07001099        0.23028345      0.04305389
Madrid             0.26442217        0.38962764      0.18613571
Rome               0.10488981        0.05885407      0.09369468
Ponder.Criterios   0.20253783        0.22648965      0.29132868
                 Ponderadores Globales
Copenhagen                   0.3291237
Berlin                       0.1913880
Paris                        0.1161572
Madrid                       0.2530847
Rome                         0.1102465
Ponder.Criterios                    NA</code></pre>
</div>
</div>
<p>Los pesos globales representan la importancia complesiva de cada alternativa con respecto al objectivo final.</p>
<p><strong>Copenhagen</strong> es la alternativa que presenta el major peso global, lo que indica que es la opción más favorable según el metodo AHP.</p>
</section>
<section id="en-forma-de-diagram" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="en-forma-de-diagram"><span class="header-section-number">2.1.4</span> En forma de diagram</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>matriznivel <span class="ot">=</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">5</span>,<span class="dv">6</span>))</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>matriznivel[,,<span class="dv">1</span>] <span class="ot">=</span> tb_cost</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>matriznivel[,,<span class="dv">2</span>] <span class="ot">=</span> tb_rent</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>matriznivel[,,<span class="dv">3</span>] <span class="ot">=</span> tb_purch</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>matriznivel[,,<span class="dv">4</span>] <span class="ot">=</span> tb_safety</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>matriznivel[,,<span class="dv">5</span>] <span class="ot">=</span> tb_health</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>matriznivel[,,<span class="dv">6</span>] <span class="ot">=</span> tb_pollution</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matriznivel)[[<span class="dv">1</span>]] <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>,<span class="st">"Paris"</span>,<span class="st">"Madrid"</span>,<span class="st">"Rome"</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="fu">dimnames</span>(matriznivel)[[<span class="dv">2</span>]] <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>,<span class="st">"Paris"</span>,<span class="st">"Madrid"</span>,<span class="st">"Rome"</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="fu">multicriterio.metodoahp.diagrama</span>(tb_criterios,matriznivel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Copenhagen</strong> es la alternativa que presenta el major peso global, lo que indica que es la opción más favorable según el metodo AHP.</p>
</section>
</section>
<section id="resolución-con-paquete-ahp" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="resolución-con-paquete-ahp"><span class="header-section-number">2.2</span> Resolución con paquete AHP</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ahp)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>ahp_ej <span class="ot">=</span> ahp<span class="sc">::</span><span class="fu">Load</span>(<span class="st">"ej01_ahp.ahp"</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>ahp_ej</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                            levelName
1  Elegir la ciudad europea más sostenible para vivir
2   ¦--Cost of Living Index                          
3   ¦   ¦--Copenhagen                                
4   ¦   ¦--Berlin                                    
5   ¦   ¦--Paris                                     
6   ¦   ¦--Madrid                                    
7   ¦   °--Rome                                      
8   ¦--Rent Index                                    
9   ¦   ¦--Copenhagen                                
10  ¦   ¦--Berlin                                    
11  ¦   ¦--Paris                                     
12  ¦   ¦--Madrid                                    
13  ¦   °--Rome                                      
14  ¦--Purchasing Power Index                        
15  ¦   ¦--Copenhagen                                
16  ¦   ¦--Berlin                                    
17  ¦   ¦--Paris                                     
18  ¦   ¦--Madrid                                    
19  ¦   °--Rome                                      
20  ¦--Safety Index                                  
21  ¦   ¦--Copenhagen                                
22  ¦   ¦--Berlin                                    
23  ¦   ¦--Paris                                     
24  ¦   ¦--Madrid                                    
25  ¦   °--Rome                                      
26  ¦--Health care Index                             
27  ¦   ¦--Copenhagen                                
28  ¦   ¦--Berlin                                    
29  ¦   ¦--Paris                                     
30  ¦   ¦--Madrid                                    
31  ¦   °--Rome                                      
32  °--Pollution Index                               
33      ¦--Copenhagen                                
34      ¦--Berlin                                    
35      ¦--Paris                                     
36      ¦--Madrid                                    
37      °--Rome                                      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular las prioridades</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Calculate</span>(ahp_ej)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ahp_ej, <span class="at">priority =</span> <span class="cf">function</span>(x) x<span class="sc">$</span>parent<span class="sc">$</span>priority[<span class="st">"Total"</span>, x<span class="sc">$</span>name])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                            levelName   priority
1  Elegir la ciudad europea más sostenible para vivir         NA
2   ¦--Cost of Living Index                           0.09401851
3   ¦   ¦--Copenhagen                                 0.06093247
4   ¦   ¦--Berlin                                     0.17485588
5   ¦   ¦--Paris                                      0.08988382
6   ¦   ¦--Madrid                                     0.41456792
7   ¦   °--Rome                                       0.25975991
8   ¦--Rent Index                                     0.04888298
9   ¦   ¦--Copenhagen                                 0.07223072
10  ¦   ¦--Berlin                                     0.26652950
11  ¦   ¦--Paris                                      0.10904732
12  ¦   ¦--Madrid                                     0.18321436
13  ¦   °--Rome                                       0.36897810
14  ¦--Purchasing Power Index                         0.13674234
15  ¦   ¦--Copenhagen                                 0.28228349
16  ¦   ¦--Berlin                                     0.43589670
17  ¦   ¦--Paris                                      0.17182955
18  ¦   ¦--Madrid                                     0.06671487
19  ¦   °--Rome                                       0.04327540
20  ¦--Safety Index                                   0.20253783
21  ¦   ¦--Copenhagen                                 0.45134332
22  ¦   ¦--Berlin                                     0.10933371
23  ¦   ¦--Paris                                      0.07001099
24  ¦   ¦--Madrid                                     0.26442217
25  ¦   °--Rome                                       0.10488981
26  ¦--Health care Index                              0.22648965
27  ¦   ¦--Copenhagen                                 0.23028345
28  ¦   ¦--Berlin                                     0.09095138
29  ¦   ¦--Paris                                      0.23028345
30  ¦   ¦--Madrid                                     0.38962764
31  ¦   °--Rome                                       0.05885407
32  °--Pollution Index                                0.29132868
33      ¦--Copenhagen                                 0.47263799
34      ¦--Berlin                                     0.20447773
35      ¦--Paris                                      0.04305389
36      ¦--Madrid                                     0.18613571
37      °--Rome                                       0.09369468</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizar la jerarquía</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Visualize</span>(ahp_ej)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-12688570930e5aef58e1" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-12688570930e5aef58e1">{"x":{"diagram":"digraph {\n\ngraph [rankdir = \"TB\"]\n\n\n\n  \"1\" [label = \"Elegir la ciudad europea más sostenible para vivir\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"2\" [label = \"Cost of Living Index\", tooltip = \"priority: 9.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"3\" [label = \"Rent Index\", tooltip = \"priority: 4.9%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"4\" [label = \"Purchasing Power Index\", tooltip = \"priority: 13.7%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"5\" [label = \"Safety Index\", tooltip = \"priority: 20.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"6\" [label = \"Health care Index\", tooltip = \"priority: 22.6%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"7\" [label = \"Pollution Index\", tooltip = \"priority: 29.1%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"8\" [label = \"Alternatives\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"9\" [label = \"Copenhagen\", tooltip = \"priority: 6.1%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"10\" [label = \"Berlin\", tooltip = \"priority: 17.5%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"11\" [label = \"Paris\", tooltip = \"priority: 9.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"12\" [label = \"Madrid\", tooltip = \"priority: 41.5%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"13\" [label = \"Rome\", tooltip = \"priority: 26.0%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n\"1\"->\"2\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"3\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"4\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"5\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"6\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"7\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"4\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"5\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"6\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"8\"->\"9\" [penwidth = \"2\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"8\"->\"10\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"8\"->\"11\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"8\"->\"12\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"8\"->\"13\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analizar</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Analyze</span>(ahp_ej,<span class="at">variable =</span> <span class="st">"priority"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                     Priority Copenhagen Madrid
1 Elegir la ciudad europea más sostenible para vivir   100.0%         NA     NA
2  ¦--Pollution Index                                   29.1%      47.3%  18.6%
3  ¦--Health care Index                                 22.6%      23.0%  39.0%
4  ¦--Safety Index                                      20.3%      45.1%  26.4%
5  ¦--Purchasing Power Index                            13.7%      28.2%   6.7%
6  ¦--Cost of Living Index                               9.4%       6.1%  41.5%
7  °--Rent Index                                         4.9%       7.2%  18.3%
  Berlin Paris  Rome Inconsistency
1     NA    NA    NA          1.3%
2  20.4%  4.3%  9.4%          2.4%
3   9.1% 23.0%  5.9%          1.2%
4  10.9%  7.0% 10.5%          1.8%
5  43.6% 17.2%  4.3%          2.1%
6  17.5%  9.0% 26.0%          2.7%
7  26.7% 10.9% 36.9%          2.4%</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Analyze</span>(ahp_ej)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                     Weight Copenhagen Madrid
1 Elegir la ciudad europea más sostenible para vivir 100.0%      32.9%  25.3%
2  ¦--Pollution Index                                 29.1%      13.8%   5.4%
3  ¦--Health care Index                               22.6%       5.2%   8.8%
4  ¦--Safety Index                                    20.3%       9.1%   5.4%
5  ¦--Purchasing Power Index                          13.7%       3.9%   0.9%
6  ¦--Cost of Living Index                             9.4%       0.6%   3.9%
7  °--Rent Index                                       4.9%       0.4%   0.9%
  Berlin Paris  Rome Inconsistency
1  19.1% 11.6% 11.0%          1.3%
2   6.0%  1.3%  2.7%          2.4%
3   2.1%  5.2%  1.3%          1.2%
4   2.2%  1.4%  2.1%          1.8%
5   6.0%  2.3%  0.6%          2.1%
6   1.6%  0.8%  2.4%          2.7%
7   1.3%  0.5%  1.8%          2.4%</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analizar con Tabla Mejorada</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>aa <span class="ot">=</span> <span class="fu">AnalyzeTable</span>(ahp_ej)</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>formattable<span class="sc">::</span><span class="fu">as.htmlwidget</span>(aa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-40c8fd6d319126006131" class="formattable_widget html-widget" style="width:100%;height:480px;" width="100%" height="480"></div>
<script type="application/json" data-for="htmlwidget-40c8fd6d319126006131">{"x":{"html":"<table class=\"table table-condensed\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\">   <\/th>\n   <th style=\"text-align:right;\"> Weight <\/th>\n   <th style=\"text-align:right;\"> Copenhagen <\/th>\n   <th style=\"text-align:right;\"> Madrid <\/th>\n   <th style=\"text-align:right;\"> Berlin <\/th>\n   <th style=\"text-align:right;\"> Paris <\/th>\n   <th style=\"text-align:right;\"> Rome <\/th>\n   <th style=\"text-align:right;\"> Inconsistency <\/th>\n  <\/tr>\n <\/thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 0em\">Elegir la ciudad europea más sostenible para vivir<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #c1cdc1\">100.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">32.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #a599a5\">25.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bbb2bb\">19.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d6d0d6\">11.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d8d2d8\">11.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfcf9\">\n  <i class><\/i>\n  1.3%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Pollution Index                                   <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eff2ef\">29.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #cec7ce\">13.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ebe9eb\">5.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eae7ea\">6.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f5f4f5\">2.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1dfbc\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Health care Index                                 <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f3f5f3\">22.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eceaec\">5.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #dfdbdf\">8.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eceaec\">5.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">\n  <i class><\/i>\n  1.2%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Safety Index                                      <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f6f4\">20.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #dedade\">9.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ece9ec\">5.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f8f0e0\">\n  <i class><\/i>\n  1.8%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Purchasing Power Index                            <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f9faf9\">13.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1eff1\">3.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fbfbfb\">0.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e9e7e9\">6.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f6f5f6\">2.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">0.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f5e9d1\">\n  <i class><\/i>\n  2.1%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Cost of Living Index                              <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">9.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">0.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1eff1\">3.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f9f8f9\">1.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfbfc\">0.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f6f5f6\">2.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eed8ae\">\n  <i class><\/i>\n  2.7%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Rent Index                                        <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">4.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfdfd\">0.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fbfbfb\">0.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfcfd\">0.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f8f7f8\">1.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1dfbd\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n<\/tbody>\n<\/table>"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>aab <span class="ot">=</span> <span class="fu">AnalyzeTable</span>(ahp_ej,<span class="at">variable =</span> <span class="st">"priority"</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>formattable<span class="sc">::</span><span class="fu">as.htmlwidget</span>(aab)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-95843717db7adf16a435" class="formattable_widget html-widget" style="width:100%;height:480px;" width="100%" height="480"></div>
<script type="application/json" data-for="htmlwidget-95843717db7adf16a435">{"x":{"html":"<table class=\"table table-condensed\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\">   <\/th>\n   <th style=\"text-align:right;\"> Priority <\/th>\n   <th style=\"text-align:right;\"> Copenhagen <\/th>\n   <th style=\"text-align:right;\"> Madrid <\/th>\n   <th style=\"text-align:right;\"> Berlin <\/th>\n   <th style=\"text-align:right;\"> Paris <\/th>\n   <th style=\"text-align:right;\"> Rome <\/th>\n   <th style=\"text-align:right;\"> Inconsistency <\/th>\n  <\/tr>\n <\/thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 0em\">Elegir la ciudad europea más sostenible para vivir<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #c1cdc1\">100.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfcf9\">\n  <i class><\/i>\n  1.3%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Pollution Index                                   <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eff2ef\">29.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">47.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d1cbd1\">18.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ccc5cc\">20.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f2f4\">4.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e8e4e8\">9.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1dfbc\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Health care Index                                 <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f3f5f3\">22.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bab0ba\">23.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">39.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e3e0e3\">9.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bab0ba\">23.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edebed\">5.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">\n  <i class><\/i>\n  1.2%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Safety Index                                      <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f6f4\">20.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">45.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bbb1bb\">26.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e2dfe2\">10.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edeaed\">7.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e4e0e4\">10.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f8f0e0\">\n  <i class><\/i>\n  1.8%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Purchasing Power Index                            <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f9faf9\">13.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #b3a9b3\">28.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edeaed\">6.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">43.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d1cad1\">17.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f3f1f3\">4.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f5e9d1\">\n  <i class><\/i>\n  2.1%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Cost of Living Index                              <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">9.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edebed\">6.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">41.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #cec7ce\">17.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e5e2e5\">9.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #b6acb6\">26.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eed8ae\">\n  <i class><\/i>\n  2.7%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Rent Index                                        <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">4.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e8e5e8\">7.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #c5bdc5\">18.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ab9fab\">26.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #dcd7dc\">10.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">36.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1dfbd\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n<\/tbody>\n<\/table>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Los resultados del método AHP muestran que los criterios con mayor peso global son el Pollution Index (29.1%), el Health Care Index (22.6%) y el Safety Index (20.3%), lo que indica que los aspectos ambientales y sociales tienen una influencia más fuerte en la decisión que los factores puramente económicos.</p>
<p>En cuanto a las alternativas, la ciudad con mayor peso global es <strong>Copenhagen (32.9%)</strong>, seguida de Madrid (25.3%) y Berlín (19.1%). París (11.6%) y Roma (11.0%) se sitúan en las últimas posiciones.</p>
<p>Estos resultados reflejan que Copenhagen destaca por su bajo nivel de contaminación, alta seguridad y buena calidad del sistema sanitario, compensando su mayor coste de vida.</p>
<p>Las inconsistencias de todas las matrices se mantienen por debajo del umbral de 0.1, lo que confirma la coherencia de los juicios emitidos.</p>
<div style="page-break-after: always;"></div>
</section>
</section>
<section id="metodo-ahp---multinivel" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Metodo AHP - MULTINIVEL</h1>
<p>Dado que el <strong>“Cost of Living Index”</strong> incluye dos componentes principales:</p>
<ul>
<li><p><strong>“Groceries Index”</strong>: evalúa el costo de los productos de supermercado en una ciudad en comparación con Nueva York.</p></li>
<li><p><strong>“Restaurants Index”</strong>: compara los precios de comidas y bebidas en restaurantes y bares entre una ciudad y Nueva York, reflejando el gasto al comer fuera.</p></li>
</ul>
<p>(En ambos casos se utiliza el índice IR relativo y ambos son costes que deben minimizarse)</p>
<p>Por esta razón, transformo el ejercicio <strong>AHP</strong> en un <strong>AHP multinivel</strong>, incorporando estos dos subcriterios dentro del criterio principal Cost of Living Index.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Datos de la ciudades para cada indice</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">CITY</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost.Living</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Grocery</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Restaurant</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purch.Pwr</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health.care</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Copenh.</td>
<td style="text-align: right; width: 1.5cm;">85.1</td>
<td style="text-align: right; width: 1.5cm;">75.4</td>
<td style="text-align: right; width: 1.5cm;">101.6</td>
<td style="text-align: right; width: 1.2cm;">48.0</td>
<td style="text-align: right; width: 1.5cm;">120.3</td>
<td style="text-align: right; width: 1.5cm;">74.3</td>
<td style="text-align: right;">76.7</td>
<td style="text-align: right;">22.1</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 1.5cm;">68.9</td>
<td style="text-align: right; width: 1.5cm;">60.7</td>
<td style="text-align: right; width: 1.5cm;">67.2</td>
<td style="text-align: right; width: 1.2cm;">37.1</td>
<td style="text-align: right; width: 1.5cm;">126.7</td>
<td style="text-align: right; width: 1.5cm;">55.5</td>
<td style="text-align: right;">66.7</td>
<td style="text-align: right;">38.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 1.5cm;">76.8</td>
<td style="text-align: right; width: 1.5cm;">75.6</td>
<td style="text-align: right; width: 1.5cm;">70.8</td>
<td style="text-align: right; width: 1.2cm;">45.5</td>
<td style="text-align: right; width: 1.5cm;">114.5</td>
<td style="text-align: right; width: 1.5cm;">42.0</td>
<td style="text-align: right;">76.9</td>
<td style="text-align: right;">63.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 1.5cm;">58.1</td>
<td style="text-align: right; width: 1.5cm;">53.0</td>
<td style="text-align: right; width: 1.5cm;">60.8</td>
<td style="text-align: right; width: 1.2cm;">38.5</td>
<td style="text-align: right; width: 1.5cm;">96.5</td>
<td style="text-align: right; width: 1.5cm;">71.3</td>
<td style="text-align: right;">79.9</td>
<td style="text-align: right;">37.7</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 1.5cm;">61.7</td>
<td style="text-align: right; width: 1.5cm;">62.8</td>
<td style="text-align: right; width: 1.5cm;">62.9</td>
<td style="text-align: right; width: 1.2cm;">35.4</td>
<td style="text-align: right; width: 1.5cm;">81.0</td>
<td style="text-align: right; width: 1.5cm;">52.6</td>
<td style="text-align: right;">64.9</td>
<td style="text-align: right;">48.9</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Transformo los criterios para que todos sean de <strong>maximizar</strong>, colocando un signo negativo delante de los valores que inicialmente correspondían a criterios de costo.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Datos transformados a criterios de maximización</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">CITY</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost.Living</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Grocery</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Restaurant</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purch.Pwr</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health.care</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Copenh.</td>
<td style="text-align: right; width: 1.5cm;">-85.1</td>
<td style="text-align: right; width: 1.5cm;">-75.4</td>
<td style="text-align: right; width: 1.5cm;">-101.6</td>
<td style="text-align: right; width: 1.2cm;">-48.0</td>
<td style="text-align: right; width: 1.5cm;">120.3</td>
<td style="text-align: right; width: 1.5cm;">74.3</td>
<td style="text-align: right;">76.7</td>
<td style="text-align: right;">-22.1</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 1.5cm;">-68.9</td>
<td style="text-align: right; width: 1.5cm;">-60.7</td>
<td style="text-align: right; width: 1.5cm;">-67.2</td>
<td style="text-align: right; width: 1.2cm;">-37.1</td>
<td style="text-align: right; width: 1.5cm;">126.7</td>
<td style="text-align: right; width: 1.5cm;">55.5</td>
<td style="text-align: right;">66.7</td>
<td style="text-align: right;">-38.4</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 1.5cm;">-76.8</td>
<td style="text-align: right; width: 1.5cm;">-75.6</td>
<td style="text-align: right; width: 1.5cm;">-70.8</td>
<td style="text-align: right; width: 1.2cm;">-45.5</td>
<td style="text-align: right; width: 1.5cm;">114.5</td>
<td style="text-align: right; width: 1.5cm;">42.0</td>
<td style="text-align: right;">76.9</td>
<td style="text-align: right;">-63.5</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 1.5cm;">-58.1</td>
<td style="text-align: right; width: 1.5cm;">-53.0</td>
<td style="text-align: right; width: 1.5cm;">-60.8</td>
<td style="text-align: right; width: 1.2cm;">-38.5</td>
<td style="text-align: right; width: 1.5cm;">96.5</td>
<td style="text-align: right; width: 1.5cm;">71.3</td>
<td style="text-align: right;">79.9</td>
<td style="text-align: right;">-37.7</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 1.5cm;">-61.7</td>
<td style="text-align: right; width: 1.5cm;">-62.8</td>
<td style="text-align: right; width: 1.5cm;">-62.9</td>
<td style="text-align: right; width: 1.2cm;">-35.4</td>
<td style="text-align: right; width: 1.5cm;">81.0</td>
<td style="text-align: right; width: 1.5cm;">52.6</td>
<td style="text-align: right;">64.9</td>
<td style="text-align: right;">-48.9</td>
</tr>
</tbody>
</table>


</div>
</div>
<p>Normalizo los valores con el <strong>método Nadir</strong>, para que todos los criterios sean expresados en una escala común entre 0 y 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">=</span> <span class="fu">matrix</span>( <span class="fu">c</span>(<span class="sc">-</span><span class="fl">85.1</span>, <span class="sc">-</span><span class="fl">68.9</span>, <span class="sc">-</span><span class="fl">76.8</span>, <span class="sc">-</span><span class="fl">58.1</span>, <span class="sc">-</span><span class="fl">61.7</span>, </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>              <span class="sc">-</span><span class="fl">75.4</span>, <span class="sc">-</span><span class="fl">60.7</span>, <span class="sc">-</span><span class="fl">75.6</span>, <span class="sc">-</span><span class="fl">53.0</span>, <span class="sc">-</span><span class="fl">62.8</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>              <span class="sc">-</span><span class="fl">101.6</span>, <span class="sc">-</span><span class="fl">67.2</span>, <span class="sc">-</span><span class="fl">70.8</span>, <span class="sc">-</span><span class="fl">60.8</span>, <span class="sc">-</span><span class="fl">62.9</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>              <span class="sc">-</span><span class="fl">48.0</span>, <span class="sc">-</span><span class="fl">37.1</span>, <span class="sc">-</span><span class="fl">45.5</span>, <span class="sc">-</span><span class="fl">38.5</span>, <span class="sc">-</span><span class="fl">35.4</span>, </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>              <span class="fl">120.3</span>, <span class="fl">126.7</span>, <span class="fl">114.5</span>, <span class="fl">96.5</span>, <span class="fl">81.0</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>              <span class="fl">74.3</span>, <span class="fl">55.5</span>, <span class="fl">42.0</span>, <span class="fl">71.3</span>, <span class="fl">52.6</span>,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>              <span class="fl">76.7</span>, <span class="fl">66.7</span>, <span class="fl">76.9</span>, <span class="fl">79.9</span>, <span class="fl">64.9</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>              <span class="sc">-</span><span class="fl">22.1</span>, <span class="sc">-</span><span class="fl">38.4</span>, <span class="sc">-</span><span class="fl">63.5</span>, <span class="sc">-</span><span class="fl">37.7</span>, <span class="sc">-</span><span class="fl">48.9</span>), <span class="at">nrow=</span><span class="dv">5</span>, <span class="at">ncol=</span><span class="dv">8</span>, <span class="at">byrow=</span>F);</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(X) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'Cost of Living Index'</span>, <span class="st">'Grocery Index'</span>, <span class="st">'Restaurant Index'</span>, </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Rent Index'</span>, <span class="st">'Purchasing Power Index'</span>, <span class="st">'Safety Index'</span>, </span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Health care Index'</span>, <span class="st">'Pollution Index'</span>);</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(X) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">'Copenhagen'</span>, <span class="st">'Berlin'</span>, <span class="st">'Paris'</span>, <span class="st">'Madrid'</span>, <span class="st">'Rome'</span>);</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>vcol.max <span class="ot">=</span> <span class="fu">apply</span>(X,<span class="dv">2</span>,max)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>vcol.min <span class="ot">=</span> <span class="fu">apply</span>(X,<span class="dv">2</span>,min)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>m.vol.max <span class="ot">=</span> <span class="fu">matrix</span>(vcol.max,<span class="dv">5</span>,<span class="dv">8</span>,<span class="at">byrow=</span>T)</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>m.vol.min <span class="ot">=</span> <span class="fu">matrix</span>(vcol.min,<span class="dv">5</span>,<span class="dv">8</span>,<span class="at">byrow=</span>T)</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>nueva.X.ml <span class="ot">=</span> (X<span class="sc">-</span>m.vol.min)<span class="sc">/</span>(m.vol.max<span class="sc">-</span>m.vol.min)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz de valores normalizados</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Cost of Living Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Grocery Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Restaurant Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rent Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Purchasing Power Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Safety Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Health care Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Pollution Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.0088496</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.8599562</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.7866667</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 1.4cm;">0.6000000</td>
<td style="text-align: right; width: 1.4cm;">0.6592920</td>
<td style="text-align: right; width: 1.4cm;">0.8431373</td>
<td style="text-align: right; width: 1.4cm;">0.8650794</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.4179567</td>
<td style="text-align: right; width: 1.4cm;">0.1200000</td>
<td style="text-align: right; width: 1.4cm;">0.6062802</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 1.4cm;">0.3074074</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.7549020</td>
<td style="text-align: right; width: 1.4cm;">0.1984127</td>
<td style="text-align: right; width: 1.4cm;">0.7330416</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.8000000</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.7539683</td>
<td style="text-align: right; width: 1.4cm;">0.3391685</td>
<td style="text-align: right; width: 1.4cm;">0.9071207</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.6231884</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 1.3cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 1.4cm;">0.8666667</td>
<td style="text-align: right; width: 1.4cm;">0.5663717</td>
<td style="text-align: right; width: 1.4cm;">0.9485294</td>
<td style="text-align: right; width: 1.4cm;">1.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.3281734</td>
<td style="text-align: right; width: 1.4cm;">0.0000000</td>
<td style="text-align: right; width: 1.4cm;">0.3526570</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Representación grafica</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>nueva.X2.ml <span class="ot">&lt;-</span> nueva.X.ml</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nueva.X2.ml) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Cost Living"</span>, <span class="st">"Grocery"</span>, <span class="st">"Restaurant"</span>, </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Rent"</span>, <span class="st">"Power"</span>, <span class="st">"Safety"</span>, <span class="st">"Health"</span>, <span class="st">"Pollution"</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="fu">heatmap</span>(</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  nueva.X2.ml,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Rowv =</span> <span class="cn">NA</span>, <span class="at">Colv =</span> <span class="cn">NA</span>,</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="fu">heat.colors</span>(<span class="dv">20</span>),</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale =</span> <span class="st">"none"</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Valores normalizados (0–1)"</span>,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="resolución-con-las-funciones-1" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="resolución-con-las-funciones-1"><span class="header-section-number">3.1</span> Resolución con las funciones</h2>
<p>Se reutiliza parte del código utilizado en el metodo AHP (versión no multinivel), presentandolo de forma más compacta y omitiendo la impresión y las comprobaciones ya realizadas en la sección anterior.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>tb_criterios <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">6</span>, </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">1</span>),</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>                              <span class="at">numalternativas =</span> <span class="dv">6</span>, </span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>                              <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>                                <span class="fu">c</span>(<span class="st">'Cost of Living Index'</span>, <span class="st">'Rent Index'</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">'Purchasing Power Index'</span>, <span class="st">'Safety Index'</span>, </span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">'Health care Index'</span>,<span class="st">'Pollution Index'</span>)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>                                );</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>tb_cost <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>),</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>tb_rent <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>), </span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>tb_purch <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">6</span>,</span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">7</span>, </span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">5</span>,</span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>), </span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a>tb_safety <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="dv">5</span>,</span>
<span id="cb50-45"><a href="#cb50-45" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, </span>
<span id="cb50-46"><a href="#cb50-46" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,</span>
<span id="cb50-47"><a href="#cb50-47" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>),</span>
<span id="cb50-48"><a href="#cb50-48" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb50-49"><a href="#cb50-49" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-50"><a href="#cb50-50" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb50-51"><a href="#cb50-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-52"><a href="#cb50-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-53"><a href="#cb50-53" aria-hidden="true" tabindex="-1"></a>tb_health <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-54"><a href="#cb50-54" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,<span class="dv">4</span>,</span>
<span id="cb50-55"><a href="#cb50-55" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>,<span class="dv">2</span>,</span>
<span id="cb50-56"><a href="#cb50-56" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>,<span class="dv">4</span>,</span>
<span id="cb50-57"><a href="#cb50-57" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">5</span>), </span>
<span id="cb50-58"><a href="#cb50-58" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb50-59"><a href="#cb50-59" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-60"><a href="#cb50-60" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb50-61"><a href="#cb50-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-62"><a href="#cb50-62" aria-hidden="true" tabindex="-1"></a>tb_pollution <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb50-63"><a href="#cb50-63" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">5</span>,</span>
<span id="cb50-64"><a href="#cb50-64" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">3</span>,</span>
<span id="cb50-65"><a href="#cb50-65" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>,<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb50-66"><a href="#cb50-66" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>), </span>
<span id="cb50-67"><a href="#cb50-67" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb50-68"><a href="#cb50-68" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb50-69"><a href="#cb50-69" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb50-70"><a href="#cb50-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-71"><a href="#cb50-71" aria-hidden="true" tabindex="-1"></a><span class="co"># pesos locales</span></span>
<span id="cb50-72"><a href="#cb50-72" aria-hidden="true" tabindex="-1"></a>p_criterios <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb50-73"><a href="#cb50-73" aria-hidden="true" tabindex="-1"></a>                                                            tb_criterios)</span>
<span id="cb50-74"><a href="#cb50-74" aria-hidden="true" tabindex="-1"></a>p_cost <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_cost)</span>
<span id="cb50-75"><a href="#cb50-75" aria-hidden="true" tabindex="-1"></a>p_rent <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_rent)</span>
<span id="cb50-76"><a href="#cb50-76" aria-hidden="true" tabindex="-1"></a>p_purch <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_purch)</span>
<span id="cb50-77"><a href="#cb50-77" aria-hidden="true" tabindex="-1"></a>p_safety <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_safety)</span>
<span id="cb50-78"><a href="#cb50-78" aria-hidden="true" tabindex="-1"></a>p_health <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(tb_health)</span>
<span id="cb50-79"><a href="#cb50-79" aria-hidden="true" tabindex="-1"></a>p_pollution <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb50-80"><a href="#cb50-80" aria-hidden="true" tabindex="-1"></a>                                                            tb_pollution)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A continuación, se incorporan los datos necesarios para el <strong>caso multinivel</strong> del método AHP.</p>
<p>Tablas de los <strong>subcriterios</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>tb_subcriterios <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">c</span>(<span class="dv">2</span>),</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                              <span class="at">numalternativas =</span> <span class="dv">2</span>, </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                              <span class="at">v.nombres.alternativas =</span> <span class="fu">c</span>(<span class="st">'Groceries Index'</span>, </span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                              <span class="st">'Restaurants Index'</span>)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>                              );</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>tb_grocery <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span>, </span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">3</span>),</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>tb_restaurant <span class="ot">=</span> <span class="fu">multicriterio.crea.matrizvaloraciones_mej</span>( </span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">5</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">7</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">6</span>,</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, </span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>,</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>                        <span class="dv">2</span>),</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>                      <span class="at">numalternativas =</span> <span class="dv">5</span>, </span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>                      <span class="at">v.nombres.alternativas =</span> </span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">c</span>(<span class="st">"Copenhagen"</span>,<span class="st">"Berlin"</span>, <span class="st">"Paris"</span>, <span class="st">"Madrid"</span>, <span class="st">"Rome"</span>));</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz de subcriterios</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Groceries Index</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Restaurants Index</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Groceries Index</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Restaurants Index</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right;">1</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Groceries Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">1.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.2000000</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">3.0000000</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right;">3.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right; width: 2cm;">3</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>


</div>
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Matriz Restaurant Index</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;"></th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Copenhagen</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Berlin</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Paris</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Madrid</th>
<th data-quarto-table-cell-role="th" style="text-align: right; font-weight: bold;">Rome</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Copenhagen</td>
<td style="text-align: right; width: 2cm;">1</td>
<td style="text-align: right; width: 2cm;">0.2</td>
<td style="text-align: right; width: 2cm;">0.25</td>
<td style="text-align: right; width: 2cm;">0.1428571</td>
<td style="text-align: right;">0.1666667</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Berlin</td>
<td style="text-align: right; width: 2cm;">5</td>
<td style="text-align: right; width: 2cm;">1.0</td>
<td style="text-align: right; width: 2cm;">2.00</td>
<td style="text-align: right; width: 2cm;">0.3333333</td>
<td style="text-align: right;">0.5000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Paris</td>
<td style="text-align: right; width: 2cm;">4</td>
<td style="text-align: right; width: 2cm;">0.5</td>
<td style="text-align: right; width: 2cm;">1.00</td>
<td style="text-align: right; width: 2cm;">0.2500000</td>
<td style="text-align: right;">0.3333333</td>
</tr>
<tr class="even">
<td style="text-align: left; width: 2cm; font-weight: bold;">Madrid</td>
<td style="text-align: right; width: 2cm;">7</td>
<td style="text-align: right; width: 2cm;">3.0</td>
<td style="text-align: right; width: 2cm;">4.00</td>
<td style="text-align: right; width: 2cm;">1.0000000</td>
<td style="text-align: right;">2.0000000</td>
</tr>
<tr class="odd">
<td style="text-align: left; width: 2cm; font-weight: bold;">Rome</td>
<td style="text-align: right; width: 2cm;">6</td>
<td style="text-align: right; width: 2cm;">2.0</td>
<td style="text-align: right; width: 2cm;">3.00</td>
<td style="text-align: right; width: 2cm;">0.5000000</td>
<td style="text-align: right;">1.0000000</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><strong>Estudio de la inconsistencia:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>Inc_subcriterios <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_subcriterios)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>Inc_grocery <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_grocery)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_grocery<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_grocery<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0124"                </code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>Inc_restaurant <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.coef.inconsistencia</span>(tb_restaurant)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(Inc_restaurant<span class="sc">$</span>mensaje, <span class="fu">round</span>(Inc_restaurant<span class="sc">$</span>RI.coef.inconsistencia,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Consistencia aceptable" "0.0272"                </code></pre>
</div>
</div>
<p>Calculo de los <strong>pesos locales</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>p_subcriterios <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>                 tb_subcriterios)</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>p_subcriterios<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Groceries Index Restaurants Index 
        0.6666667         0.3333333 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>p_grocery <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>            tb_grocery)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>p_grocery<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.07284055 0.19391621 0.07284055 0.46648647 0.19391621 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>p_restaurant <span class="ot">=</span> <span class="fu">multicriterio.metodoAHP.variante1.autovectormayorautovalor</span>(</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>               tb_restaurant)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>p_restaurant<span class="sc">$</span>valoraciones.ahp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Berlin      Paris     Madrid       Rome 
0.03987621 0.16621481 0.10597795 0.42103402 0.26689701 </code></pre>
</div>
</div>
<p>Calculo de los <strong>pesos globales</strong>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>pc <span class="ot">&lt;-</span> p_criterios<span class="sc">$</span>valoraciones.ahp <span class="co"># pesos criterios</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>ps <span class="ot">&lt;-</span> p_subcriterios<span class="sc">$</span>valoraciones.ahp <span class="co"># pesos subcriterios</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>p_hojas <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Groceries Index"</span> <span class="ot">=</span> pc[<span class="st">"Cost of Living Index"</span>] <span class="sc">*</span> ps[<span class="st">"Groceries Index"</span>],</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Restaurants Index"</span> <span class="ot">=</span> pc[<span class="st">"Cost of Living Index"</span>] <span class="sc">*</span> ps[<span class="st">"Restaurants Index"</span>],</span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Rent Index"</span>  <span class="ot">=</span> pc[<span class="st">"Rent Index"</span>],</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Purchasing Power Index"</span> <span class="ot">=</span> pc[<span class="st">"Purchasing Power Index"</span>],</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Safety Index"</span> <span class="ot">=</span> pc[<span class="st">"Safety Index"</span>],</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Health care Index"</span> <span class="ot">=</span> pc[<span class="st">"Health care Index"</span>],</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Pollution Index"</span> <span class="ot">=</span> pc[<span class="st">"Pollution Index"</span>]</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>M_alt_hojas <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>  p_grocery<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  p_restaurant<span class="sc">$</span>valoraciones.ahp,  </span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>  p_rent<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>  p_purch<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>  p_safety<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>  p_health<span class="sc">$</span>valoraciones.ahp,</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>  p_pollution<span class="sc">$</span>valoraciones.ahp</span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(M_alt_hojas) <span class="ot">&lt;-</span> <span class="fu">names</span>(p_hojas)</span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a><span class="co">#pond.globales = p_hojas %*% M_alt_hojas</span></span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a><span class="co">#pond.globales</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>p_global <span class="ot">&lt;-</span> <span class="fu">multicriterio.metodoAHP.pesosglobales_entabla</span>(p_hojas, M_alt_hojas)</span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a>p_global</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                 Groceries Index.Cost of Living Index
Copenhagen                                 0.07284055
Berlin                                     0.19391621
Paris                                      0.07284055
Madrid                                     0.46648647
Rome                                       0.19391621
Ponder.Criterios                           0.06267901
                 Restaurants Index.Cost of Living Index Rent Index.Rent Index
Copenhagen                                   0.03987621            0.07223072
Berlin                                       0.16621481            0.26652950
Paris                                        0.10597795            0.10904732
Madrid                                       0.42103402            0.18321436
Rome                                         0.26689701            0.36897810
Ponder.Criterios                             0.03133950            0.04888298
                 Purchasing Power Index.Purchasing Power Index
Copenhagen                                          0.28228349
Berlin                                              0.43589670
Paris                                               0.17182955
Madrid                                              0.06671487
Rome                                                0.04327540
Ponder.Criterios                                    0.13674234
                 Safety Index.Safety Index Health care Index.Health care Index
Copenhagen                      0.45134332                          0.23028345
Berlin                          0.10933371                          0.09095138
Paris                           0.07001099                          0.23028345
Madrid                          0.26442217                          0.38962764
Rome                            0.10488981                          0.05885407
Ponder.Criterios                0.20253783                          0.22648965
                 Pollution Index.Pollution Index Ponderadores Globales
Copenhagen                            0.47263799             0.3292102
Berlin                                0.20447773             0.1923118
Paris                                 0.04305389             0.1155933
Madrid                                0.18613571             0.2565415
Rome                                  0.09369468             0.1063432
Ponder.Criterios                      0.29132868                    NA</code></pre>
</div>
</div>
<p>Los resultados del AHP multinivel muestran que, al incorporar los subcriterios dentro de “Cost of Living”, las prioridades globales se mantienen estables y <strong>Copenhagen</strong> sigue siendo la alternativa con el mayor peso total.</p>
</section>
<section id="resolución-con-paquete-ahp-1" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="resolución-con-paquete-ahp-1"><span class="header-section-number">3.2</span> Resolución con paquete AHP</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar el modelo:</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ahp)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>ahp_ej_m <span class="ot">=</span> ahp<span class="sc">::</span><span class="fu">Load</span>(<span class="st">"ej02_ahp.ahp"</span>)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>ahp_ej_m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                            levelName
1  Elegir la ciudad europea más sostenible para vivir
2   ¦--Cost of Living Index                          
3   ¦   ¦--Groceries Index                           
4   ¦   ¦   ¦--Copenhagen                            
5   ¦   ¦   ¦--Berlin                                
6   ¦   ¦   ¦--Paris                                 
7   ¦   ¦   ¦--Madrid                                
8   ¦   ¦   °--Rome                                  
9   ¦   °--Restaurants Index                         
10  ¦       ¦--Copenhagen                            
11  ¦       ¦--Berlin                                
12  ¦       ¦--Paris                                 
13  ¦       ¦--Madrid                                
14  ¦       °--Rome                                  
15  ¦--Rent Index                                    
16  ¦   ¦--Copenhagen                                
17  ¦   ¦--Berlin                                    
18  ¦   ¦--Paris                                     
19  ¦   ¦--Madrid                                    
20  ¦   °--Rome                                      
21  ¦--Purchasing Power Index                        
22  ¦   ¦--Copenhagen                                
23  ¦   ¦--Berlin                                    
24  ¦   ¦--Paris                                     
25  ¦   ¦--Madrid                                    
26  ¦   °--Rome                                      
27  ¦--Safety Index                                  
28  ¦   ¦--Copenhagen                                
29  ¦   ¦--Berlin                                    
30  ¦   ¦--Paris                                     
31  ¦   ¦--Madrid                                    
32  ¦   °--Rome                                      
33  ¦--Health care Index                             
34  ¦   ¦--Copenhagen                                
35  ¦   ¦--Berlin                                    
36  ¦   ¦--Paris                                     
37  ¦   ¦--Madrid                                    
38  ¦   °--Rome                                      
39  °--Pollution Index                               
40      ¦--Copenhagen                                
41      ¦--Berlin                                    
42      ¦--Paris                                     
43      ¦--Madrid                                    
44      °--Rome                                      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular las prioridades:</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Calculate</span>(ahp_ej_m)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(ahp_ej_m, <span class="at">priority =</span> <span class="cf">function</span>(x) x<span class="sc">$</span>parent<span class="sc">$</span>priority[<span class="st">"Total"</span>, x<span class="sc">$</span>name])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                            levelName   priority
1  Elegir la ciudad europea más sostenible para vivir         NA
2   ¦--Cost of Living Index                           0.09401851
3   ¦   ¦--Groceries Index                            0.66666667
4   ¦   ¦   ¦--Copenhagen                             0.07284055
5   ¦   ¦   ¦--Berlin                                 0.19391621
6   ¦   ¦   ¦--Paris                                  0.07284055
7   ¦   ¦   ¦--Madrid                                 0.46648647
8   ¦   ¦   °--Rome                                   0.19391621
9   ¦   °--Restaurants Index                          0.33333333
10  ¦       ¦--Copenhagen                             0.03987621
11  ¦       ¦--Berlin                                 0.16621481
12  ¦       ¦--Paris                                  0.10597795
13  ¦       ¦--Madrid                                 0.42103402
14  ¦       °--Rome                                   0.26689701
15  ¦--Rent Index                                     0.04888298
16  ¦   ¦--Copenhagen                                 0.07223072
17  ¦   ¦--Berlin                                     0.26652950
18  ¦   ¦--Paris                                      0.10904732
19  ¦   ¦--Madrid                                     0.18321436
20  ¦   °--Rome                                       0.36897810
21  ¦--Purchasing Power Index                         0.13674234
22  ¦   ¦--Copenhagen                                 0.28228349
23  ¦   ¦--Berlin                                     0.43589670
24  ¦   ¦--Paris                                      0.17182955
25  ¦   ¦--Madrid                                     0.06671487
26  ¦   °--Rome                                       0.04327540
27  ¦--Safety Index                                   0.20253783
28  ¦   ¦--Copenhagen                                 0.45134332
29  ¦   ¦--Berlin                                     0.10933371
30  ¦   ¦--Paris                                      0.07001099
31  ¦   ¦--Madrid                                     0.26442217
32  ¦   °--Rome                                       0.10488981
33  ¦--Health care Index                              0.22648965
34  ¦   ¦--Copenhagen                                 0.23028345
35  ¦   ¦--Berlin                                     0.09095138
36  ¦   ¦--Paris                                      0.23028345
37  ¦   ¦--Madrid                                     0.38962764
38  ¦   °--Rome                                       0.05885407
39  °--Pollution Index                                0.29132868
40      ¦--Copenhagen                                 0.47263799
41      ¦--Berlin                                     0.20447773
42      ¦--Paris                                      0.04305389
43      ¦--Madrid                                     0.18613571
44      °--Rome                                       0.09369468</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizar la jerarquía</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Visualize</span>(ahp_ej_m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-18b79677ac4bc06d2e49" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-18b79677ac4bc06d2e49">{"x":{"diagram":"digraph {\n\ngraph [rankdir = \"TB\"]\n\n\n\n  \"1\" [label = \"Elegir la ciudad europea más sostenible para vivir\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"2\" [label = \"Cost of Living Index\", tooltip = \"priority: 9.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"3\" [label = \"Groceries Index\", tooltip = \"priority: 66.7%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"4\" [label = \"Restaurants Index\", tooltip = \"priority: 33.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"5\" [label = \"Rent Index\", tooltip = \"priority: 4.9%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"6\" [label = \"Purchasing Power Index\", tooltip = \"priority: 13.7%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"7\" [label = \"Safety Index\", tooltip = \"priority: 20.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"8\" [label = \"Health care Index\", tooltip = \"priority: 22.6%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"9\" [label = \"Pollution Index\", tooltip = \"priority: 29.1%\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"10\" [label = \"Alternatives\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"11\" [label = \"Copenhagen\", tooltip = \"priority: 7.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"12\" [label = \"Berlin\", tooltip = \"priority: 19.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"13\" [label = \"Paris\", tooltip = \"priority: 7.3%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"14\" [label = \"Madrid\", tooltip = \"priority: 46.6%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"15\" [label = \"Rome\", tooltip = \"priority: 19.4%\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n\"1\"->\"2\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"5\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"6\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"7\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"9\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"3\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"4\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"4\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"5\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"6\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"8\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"9\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"10\"->\"11\" [penwidth = \"2\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"10\"->\"12\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"10\"->\"13\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"10\"->\"14\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"10\"->\"15\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analizar</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Analyze</span>(ahp_ej_m,<span class="at">variable =</span> <span class="st">"priority"</span> ,<span class="at">sort=</span><span class="st">"orig"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                     Priority Copenhagen Berlin
1 Elegir la ciudad europea más sostenible para vivir   100.0%         NA     NA
2  ¦--Cost of Living Index                               9.4%         NA     NA
3  ¦   ¦--Groceries Index                               66.7%       7.3%  19.4%
4  ¦   °--Restaurants Index                             33.3%       4.0%  16.6%
5  ¦--Rent Index                                         4.9%       7.2%  26.7%
6  ¦--Purchasing Power Index                            13.7%      28.2%  43.6%
7  ¦--Safety Index                                      20.3%      45.1%  10.9%
8  ¦--Health care Index                                 22.6%      23.0%   9.1%
9  °--Pollution Index                                   29.1%      47.3%  20.4%
  Paris Madrid  Rome Inconsistency
1    NA     NA    NA          1.3%
2    NA     NA    NA          0.0%
3  7.3%  46.6% 19.4%          1.3%
4 10.6%  42.1% 26.7%          2.8%
5 10.9%  18.3% 36.9%          2.4%
6 17.2%   6.7%  4.3%          2.1%
7  7.0%  26.4% 10.5%          1.8%
8 23.0%  39.0%  5.9%          1.2%
9  4.3%  18.6%  9.4%          2.4%</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">Analyze</span>(ahp_ej_m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                     Weight Copenhagen Madrid
1 Elegir la ciudad europea más sostenible para vivir 100.0%      32.9%  25.7%
2  ¦--Pollution Index                                 29.1%      13.8%   5.4%
3  ¦--Health care Index                               22.6%       5.2%   8.8%
4  ¦--Safety Index                                    20.3%       9.1%   5.4%
5  ¦--Purchasing Power Index                          13.7%       3.9%   0.9%
6  ¦--Cost of Living Index                             9.4%       0.6%   4.2%
7  ¦   ¦--Groceries Index                              6.3%       0.5%   2.9%
8  ¦   °--Restaurants Index                            3.1%       0.1%   1.3%
9  °--Rent Index                                       4.9%       0.4%   0.9%
  Berlin Paris  Rome Inconsistency
1  19.2% 11.6% 10.6%          1.3%
2   6.0%  1.3%  2.7%          2.4%
3   2.1%  5.2%  1.3%          1.2%
4   2.2%  1.4%  2.1%          1.8%
5   6.0%  2.3%  0.6%          2.1%
6   1.7%  0.8%  2.1%          0.0%
7   1.2%  0.5%  1.2%          1.3%
8   0.5%  0.3%  0.8%          2.8%
9   1.3%  0.5%  1.8%          2.4%</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analizar con tabla mejorada</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>aa <span class="ot">=</span> <span class="fu">AnalyzeTable</span>(ahp_ej_m)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>formattable<span class="sc">::</span><span class="fu">as.htmlwidget</span>(aa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-f76327052f4aa4332b5a" class="formattable_widget html-widget" style="width:100%;height:480px;" width="100%" height="480"></div>
<script type="application/json" data-for="htmlwidget-f76327052f4aa4332b5a">{"x":{"html":"<table class=\"table table-condensed\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\">   <\/th>\n   <th style=\"text-align:right;\"> Weight <\/th>\n   <th style=\"text-align:right;\"> Copenhagen <\/th>\n   <th style=\"text-align:right;\"> Madrid <\/th>\n   <th style=\"text-align:right;\"> Berlin <\/th>\n   <th style=\"text-align:right;\"> Paris <\/th>\n   <th style=\"text-align:right;\"> Rome <\/th>\n   <th style=\"text-align:right;\"> Inconsistency <\/th>\n  <\/tr>\n <\/thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 0em\">Elegir la ciudad europea más sostenible para vivir<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #c1cdc1\">100.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">32.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #a498a4\">25.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bbb1bb\">19.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d6d0d6\">11.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d9d4d9\">10.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f6ecd8\">\n  <i class><\/i>\n  1.3%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Pollution Index                                   <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eef1ee\">29.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #cec7ce\">13.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ebe9eb\">5.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eae7ea\">6.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f5f4f5\">2.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #efdcb7\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Health care Index                                 <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f2f4f2\">22.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eceaec\">5.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #dfdbdf\">8.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eceaec\">5.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7eedb\">\n  <i class><\/i>\n  1.2%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Safety Index                                      <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f6f4\">20.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #dedade\">9.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ece9ec\">5.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4e5cb\">\n  <i class><\/i>\n  1.8%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Purchasing Power Index                            <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f8f9f8\">13.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f1eff1\">3.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fbfbfb\">0.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e9e7e9\">6.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f6f5f6\">2.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">0.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f2e1c2\">\n  <i class><\/i>\n  2.1%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Cost of Living Index                              <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fafbfa\">9.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">0.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f0edf0\">4.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f8f8f8\">1.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfbfc\">0.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7f6f7\">2.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">\n  <i class><\/i>\n  0.0%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 2em\">Groceries Index                                   <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfdfc\">6.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfdfd\">0.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f3f4\">2.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fafafa\">1.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfdfd\">0.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fafafa\">1.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7edda\">\n  <i class><\/i>\n  1.3%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 2em\">Restaurants Index                                 <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">3.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fefefe\">0.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfcfd\">0.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfdfd\">0.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfbfc\">0.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eed8ae\">\n  <i class><\/i>\n  2.8%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Rent Index                                        <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfefd\">4.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfdfd\">0.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fbfbfb\">0.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #faf9fa\">1.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fdfcfd\">0.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f8f7f8\">1.8%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f0dcb7\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n<\/tbody>\n<\/table>"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>aa <span class="ot">=</span> <span class="fu">AnalyzeTable</span>(ahp_ej_m,<span class="at">variable =</span> <span class="st">"priority"</span>,<span class="at">sort =</span> <span class="st">"orig"</span>)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>formattable<span class="sc">::</span><span class="fu">as.htmlwidget</span>(aa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="htmlwidget-9099ea7bddea18a387f8" class="formattable_widget html-widget" style="width:100%;height:480px;" width="100%" height="480"></div>
<script type="application/json" data-for="htmlwidget-9099ea7bddea18a387f8">{"x":{"html":"<table class=\"table table-condensed\">\n <thead>\n  <tr>\n   <th style=\"text-align:right;\">   <\/th>\n   <th style=\"text-align:right;\"> Priority <\/th>\n   <th style=\"text-align:right;\"> Copenhagen <\/th>\n   <th style=\"text-align:right;\"> Berlin <\/th>\n   <th style=\"text-align:right;\"> Paris <\/th>\n   <th style=\"text-align:right;\"> Madrid <\/th>\n   <th style=\"text-align:right;\"> Rome <\/th>\n   <th style=\"text-align:right;\"> Inconsistency <\/th>\n  <\/tr>\n <\/thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 0em\">Elegir la ciudad europea más sostenible para vivir<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #c1cdc1\">100.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f6ecd8\">\n  <i class><\/i>\n  1.3%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Cost of Living Index                              <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #fcfcfc\">9.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\"><\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">\n  <i class><\/i>\n  0.0%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 2em\">Groceries Index                                   <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d6ded6\">66.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eceaec\">7.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #cec8ce\">19.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eceaec\">7.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">46.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #cec8ce\">19.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7edda\">\n  <i class><\/i>\n  1.3%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 2em\">Restaurants Index                                 <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ecf0ec\">33.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f2f4\">4.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d1cad1\">16.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e1dde1\">10.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">42.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #b5abb5\">26.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eed8ae\">\n  <i class><\/i>\n  2.8%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Rent Index                                        <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ffffff\">4.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e8e5e8\">7.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ab9fab\">26.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #dcd7dc\">10.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #c5bdc5\">18.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">36.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f0dcb7\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Purchasing Power Index                            <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f9faf9\">13.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #b3a9b3\">28.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">43.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d1cad1\">17.2%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edeaed\">6.7%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f3f1f3\">4.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f2e1c2\">\n  <i class><\/i>\n  2.1%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Safety Index                                      <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f6f4\">20.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">45.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e2dfe2\">10.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edeaed\">7.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bbb1bb\">26.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e4e0e4\">10.5%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4e5cb\">\n  <i class><\/i>\n  1.8%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Health care Index                                 <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f3f5f3\">22.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bab0ba\">23.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e3e0e3\">9.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #bab0ba\">23.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">39.0%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #edebed\">5.9%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f7eedb\">\n  <i class><\/i>\n  1.2%\n<\/span> <\/td>\n  <\/tr>\n  <tr>\n   <td style=\"text-align:right;\"> <span style=\"white-space: nowrap; text-align: left; float: left; font-weight: bold; text-indent: 1em\">Pollution Index                                   <\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #eff2ef\">29.1%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #8b7b8b\">47.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #ccc5cc\">20.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #f4f2f4\">4.3%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #d1cbd1\">18.6%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #e8e4e8\">9.4%<\/span> <\/td>\n   <td style=\"text-align:right;\"> <span style=\"display: block; padding: 0 4px; border-radius: 4px; background-color: #efdcb7\">\n  <i class><\/i>\n  2.4%\n<\/span> <\/td>\n  <\/tr>\n<\/tbody>\n<\/table>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Copenhagen</strong> mantiene la primera posición (32.9%), seguida de Madrid (25.7%) y Berlin (19.2%).<br>
Este resultado confirma la robustez del modelo: al introducir subcriterios, el ranking global apenas varía respecto al AHP básico.</p>
<p>Las inconsistencias son bajas (&lt;0.1), lo que garantiza la coherencia y fiabilidad de los juicios emitidos.</p>
<p>Ahora, para validar la solución obtenida, se resuelve el mismo problema utilizando los metodos de superacion.</p>
</section>
</section>
<section id="metodo-electre" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Metodo ELECTRE</h1>
<p>El método ELECTRE se basa en dos conceptos fundamentales:</p>
<ul>
<li><p><strong>Concordancia:</strong> muestra cuanto una opción es al menos tan buena como la otra con la que se compara, considerando los pesos de los criterios.</p></li>
<li><p><strong>Discordancia:</strong> evita que una alternativa sea preferida a otra cuando en algún criterio es demasiado desfavorable.</p></li>
</ul>
<p>En este trabajo, se ha:</p>
<ul>
<li><p>fijado un nivel de concordancia mínimo alpha = 0.7</p></li>
<li><p>elegido pesos para los criterios de forma que se enfatice la sostenibilidad, pero sin ignorar la economia.</p></li>
<li><p>establecido vetos en los criterios “Safety” y “Pollution”, considerados claves para la sostenibilidad.</p></li>
</ul>
<section id="iteración-1" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="iteración-1"><span class="header-section-number">4.1</span> Iteración 1</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>sol.Electre <span class="ot">=</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>                        nueva.X, </span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pesos.criterios =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.10</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.30</span>), </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">nivel.concordancia.minimo.alpha =</span> <span class="fl">0.7</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">no.se.compensan =</span> <span class="fu">c</span>(<span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="fl">0.40</span>, <span class="cn">Inf</span>, <span class="fl">0.40</span>),</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">que.alternativas =</span> <span class="cn">TRUE</span>)</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(sol.Electre<span class="sc">$</span>relacion.dominante)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>sol.Electre<span class="sc">$</span>nucleo_aprox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Madrid 
         1          4 </code></pre>
</div>
</div>
<p>Despues la primera iteracion, se obtiene un nucleo con dos alternativas (Copenhagen y Madrid).</p>
<p>Para intentar quedarse con una única alternativa óptima se puede:</p>
<ul>
<li><p>reducir el grafo a las alterantivas en el nucleo y/o</p></li>
<li><p>reducir el valor del alpha [0.5,1)</p></li>
</ul>
</section>
<section id="iteración-2-reducir-alternativas" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="iteración-2-reducir-alternativas"><span class="header-section-number">4.2</span> Iteración 2: reducir alternativas</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>sol.Electre <span class="ot">=</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>                        nueva.X, </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pesos.criterios =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.10</span>,</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.30</span>), </span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">nivel.concordancia.minimo.alpha =</span> <span class="fl">0.7</span>,</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">no.se.compensan =</span> <span class="fu">c</span>(<span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="fl">0.40</span>, <span class="cn">Inf</span>, <span class="fl">0.40</span>),</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">que.alternativas =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(sol.Electre<span class="sc">$</span>relacion.dominante)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>sol.Electre<span class="sc">$</span>nucleo_aprox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen     Madrid 
         1          2 </code></pre>
</div>
</div>
</section>
<section id="iteración-3-reducir-alpha" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="iteración-3-reducir-alpha"><span class="header-section-number">4.3</span> Iteración 3: reducir alpha</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>sol.Electre <span class="ot">=</span> <span class="fu">multicriterio.metodoELECTRE_I</span>(</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>                        nueva.X, </span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pesos.criterios =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.10</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>                                            <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.30</span>), </span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">nivel.concordancia.minimo.alpha =</span> <span class="fl">0.6</span>,</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">no.se.compensan =</span> <span class="fu">c</span>(<span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="cn">Inf</span>, <span class="fl">0.40</span>, <span class="cn">Inf</span>, <span class="fl">0.40</span>),</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>                        <span class="at">que.alternativas =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>))</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>qgraph<span class="sc">::</span><span class="fu">qgraph</span>(sol.Electre<span class="sc">$</span>relacion.dominante)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>sol.Electre<span class="sc">$</span>nucleo_aprox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Copenhagen 
         1 </code></pre>
</div>
</div>
<p>Al reducir el grafo a las alternativas del núcleo no se obtiene una única alternativa, por lo que se reduce el valor de alpha (en este caso hasta 0.6) hasta lograr una sola alternativa óptima, que resulta ser Copenhagen.</p>
<p>El método ELECTRE identifica a <strong>Copenhagen</strong> como la ciudad más sostenible.</p>
</section>
</section>
<section id="metodo-promethee" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Metodo PROMETHEE</h1>
<p>El metodo PROMETHEE se basa en la comparación por pares de alternativas. A diferencia de ELECTRE, no utiliza vetos, porque evalua la preferencia de una alternativa sobra otra mediante funciones especificas definidas para cada critetio. Ademas, permite obtener un ordenamniento parcial (PROMETHEE I) y un ordenamiento total (PROMETHEE II) de las alternativas.</p>
<p>Elección de las funciones de preferencia para los distintos criterios:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small" data-quarto-postprocess="true">
<caption>Criterios e funciónes asociadas</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Criterio</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Función</th>
<th data-quarto-table-cell-role="th" style="text-align: left; font-weight: bold;">Interpretación</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Cost, Rent</td>
<td style="text-align: left;">Lineal con indiferencia (5)</td>
<td style="text-align: left; width: 6cm;">Las pequenas diferencias no tienen peso (q), luego el crecimiento es lineal hasta alcanzar una referencia completa (p).</td>
</tr>
<tr class="even">
<td style="text-align: left; font-weight: bold;">Purchasing Power, Pollution</td>
<td style="text-align: left;">Lineal (3)</td>
<td style="text-align: left; width: 6cm;">Cada diferencia cuenta de forma proporcional hasta llegar a p.</td>
</tr>
<tr class="odd">
<td style="text-align: left; font-weight: bold;">Safety, Health Care</td>
<td style="text-align: left;">Por niveles (4)</td>
<td style="text-align: left; width: 6cm;">Por debajo de q hay indiferencia, entre q y p una preferencia débil o constatnte, y por encima de p una preferencia completa.</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="promethee-i" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="promethee-i"><span class="header-section-number">5.1</span> Promethee I:</h2>
<p>Primero se aplica el metodo PROMETHEE I, que construye un ordenamiento parcial entre las alternativas. El flujo positivo (phi+) representa el grado en que una ciudad domina a las demás, el flujo negativo (phi-) indica cuánto una ciudad es dominada por las otras. Por tanto, una alternativa con major phi+ y menor phi- se considera mas preferible. El grafo dirigido permite visualizar estas relaciones de dominancia parcial entre las alternativas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>pesos.criterios <span class="ot">=</span> pesos.criterios <span class="ot">=</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.10</span>,</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>                                      <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.30</span>);</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>tab.fpref <span class="ot">=</span> <span class="fu">matrix</span>( <span class="fu">c</span>(<span class="dv">5</span>, <span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="dv">0</span>,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">5</span>, <span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="dv">0</span>,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">3</span>, <span class="dv">0</span>, <span class="fl">0.20</span>, <span class="dv">0</span>,</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">4</span>, <span class="fl">0.03</span>, <span class="fl">0.15</span>, <span class="dv">0</span>,</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">4</span>, <span class="fl">0.03</span>, <span class="fl">0.10</span>, <span class="dv">0</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>                      <span class="dv">3</span>, <span class="dv">0</span>, <span class="fl">0.15</span>, <span class="dv">0</span>), <span class="at">ncol=</span><span class="dv">4</span>, <span class="at">byrow=</span>T )</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>tab.fpref</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    5 0.05 0.25    0
[2,]    5 0.05 0.25    0
[3,]    3 0.00 0.20    0
[4,]    4 0.03 0.15    0
[5,]    4 0.03 0.10    0
[6,]    3 0.00 0.15    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>tab.Pthee.i <span class="ot">=</span> <span class="fu">multicriterio.metodo.promethee_i</span>(nueva.X, pesos.criterios, tab.fpref)</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>tab.Pthee.i</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$tabla.indices
           Copenhagen     Berlin     Paris     Madrid      Rome
Copenhagen 0.00000000 0.80000000 0.6134573 0.52500000 0.9000000
Berlin     0.17002188 0.00000000 0.7500000 0.11527778 0.7750000
Paris      0.08710317 0.25000000 0.0000000 0.10000000 0.3500000
Madrid     0.35000000 0.58381643 0.9000000 0.00000000 0.9208333
Rome       0.10000000 0.07123016 0.6500000 0.04900794 0.0000000

$vflujos.ent
Copenhagen     Berlin      Paris     Madrid       Rome 
 2.8384573  1.8102997  0.7871032  2.7546498  0.8702381 

$vflujos.sal
Copenhagen     Berlin      Paris     Madrid       Rome 
 0.7071251  1.7050466  2.9134573  0.7892857  2.9458333 

$tablarelacionsupera
           Copenhagen Berlin Paris Madrid Rome
Copenhagen        0.5    1.0   1.0    1.0  1.0
Berlin            0.0    0.5   1.0    0.0  1.0
Paris             0.0    0.0   0.5    0.0  0.0
Madrid            0.0    1.0   1.0    0.5  1.0
Rome              0.0    0.0   0.0    0.0  0.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(<span class="st">"qgraph"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: qgraph</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qgraph</span>(tab.Pthee.i<span class="sc">$</span>tablarelacionsupera)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>En este caso, se observe que <strong>Copenhagen</strong> domina la otras alternativas, mostrando el maximo valor de phi+ y el minimo de phi- .</p>
</section>
<section id="promethee-ii" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="promethee-ii"><span class="header-section-number">5.2</span> Promethee II:</h2>
<p>Despues se aplica el metodo PROMETHEE II, que transforma el ordenamiento parcial en un ordenamiento total mediante el flujo neto. El flujo neto se define como la diferencia entre el flujo positivo y el negativo. Este flujo define la posicion global de cada alternativa: cuanto mayor sea el flujo, mejor será la alternativa.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>tab.Pthee.ii <span class="ot">=</span> <span class="fu">multicriterio.metodo.promethee_ii</span>(nueva.X, pesos.criterios, </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>                                                 tab.fpref)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>tab.Pthee.ii</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$tabla.indices
           Copenhagen     Berlin     Paris     Madrid      Rome
Copenhagen 0.00000000 0.80000000 0.6134573 0.52500000 0.9000000
Berlin     0.17002188 0.00000000 0.7500000 0.11527778 0.7750000
Paris      0.08710317 0.25000000 0.0000000 0.10000000 0.3500000
Madrid     0.35000000 0.58381643 0.9000000 0.00000000 0.9208333
Rome       0.10000000 0.07123016 0.6500000 0.04900794 0.0000000

$vflujos.netos
Copenhagen     Berlin      Paris     Madrid       Rome 
 2.1313323  0.1052531 -2.1263542  1.9653640 -2.0755952 

$tablarelacionsupera
           Copenhagen Berlin Paris Madrid Rome
Copenhagen        0.5    1.0   1.0    1.0  1.0
Berlin            0.0    0.5   1.0    0.0  1.0
Paris             0.0    0.0   0.5    0.0  0.0
Madrid            0.0    1.0   1.0    0.5  1.0
Rome              0.0    0.0   1.0    0.0  0.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qgraph</span>(tab.Pthee.ii<span class="sc">$</span>tablarelacionsupera)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordenacion final alternativas del Metodo Promethee II</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">order</span>(tab.Pthee.ii<span class="sc">$</span>vflujos.netos, <span class="at">decreasing=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 2 5 3</code></pre>
</div>
</div>
<p>Los flujos netos risultan en el siguiente ranking: <strong>Copenhagen</strong>&gt;Madrid&gt;Berlin&gt;Roma&gt;Paris.</p>
</section>
<section id="promethee-i-medias" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="promethee-i-medias"><span class="header-section-number">5.3</span> Promethee I (medias):</h2>
<p>En el caso anterior, los flujos se calculaban como sumas, mientras ahora se calculan como el promedio de las preferencias, es decir, se dividen por n-1. Si todo va bien, el orden no cambiará, ya que dividir por n-1 solo normaliza los valores entre 0 y 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>tab.Pthee.i_med <span class="ot">=</span> <span class="fu">multicriterio.metodo.promethee_i_med</span>(nueva.X, pesos.criterios, </span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>                                                       tab.fpref)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>tab.Pthee.i_med</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$tabla.indices
           Copenhagen     Berlin     Paris     Madrid      Rome
Copenhagen 0.00000000 0.80000000 0.6134573 0.52500000 0.9000000
Berlin     0.17002188 0.00000000 0.7500000 0.11527778 0.7750000
Paris      0.08710317 0.25000000 0.0000000 0.10000000 0.3500000
Madrid     0.35000000 0.58381643 0.9000000 0.00000000 0.9208333
Rome       0.10000000 0.07123016 0.6500000 0.04900794 0.0000000

$vflujos.ent
Copenhagen     Berlin      Paris     Madrid       Rome 
 0.7096143  0.4525749  0.1967758  0.6886624  0.2175595 

$vflujos.sal
Copenhagen     Berlin      Paris     Madrid       Rome 
 0.1767813  0.4262616  0.7283643  0.1973214  0.7364583 

$tablarelacionsupera
           Copenhagen Berlin Paris Madrid Rome
Copenhagen          0      1     1      1    1
Berlin              0      0     1      0    1
Paris               0      0     0      0    0
Madrid              0      1     1      0    1
Rome                0      0     0      0    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qgraph</span>(tab.Pthee.i_med<span class="sc">$</span>tablarelacionsupera)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="promethee-ii-medias" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="promethee-ii-medias"><span class="header-section-number">5.4</span> Promethee II (medias):</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>tab.Pthee.ii_med <span class="ot">=</span> <span class="fu">multicriterio.metodo.promethee_ii_med</span>(nueva.X, </span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>                                      pesos.criterios, tab.fpref)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>tab.Pthee.ii_med</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$tabla.indices
           Copenhagen     Berlin     Paris     Madrid      Rome
Copenhagen 0.00000000 0.80000000 0.6134573 0.52500000 0.9000000
Berlin     0.17002188 0.00000000 0.7500000 0.11527778 0.7750000
Paris      0.08710317 0.25000000 0.0000000 0.10000000 0.3500000
Madrid     0.35000000 0.58381643 0.9000000 0.00000000 0.9208333
Rome       0.10000000 0.07123016 0.6500000 0.04900794 0.0000000

$vflujos.netos
 Copenhagen      Berlin       Paris      Madrid        Rome 
 0.53283307  0.02631327 -0.53158854  0.49134101 -0.51889881 

$tablarelacionsupera
           Copenhagen Berlin Paris Madrid Rome
Copenhagen          0      1     1      1    1
Berlin              0      0     1      0    1
Paris               0      0     0      0    0
Madrid              0      1     1      0    1
Rome                0      0     1      0    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qgraph</span>(tab.Pthee.ii_med<span class="sc">$</span>tablarelacionsupera)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="TD02_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ordenacion final alternativas del Metodo Promethee II</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a><span class="fu">order</span>(tab.Pthee.ii_med<span class="sc">$</span>vflujos.netos, <span class="at">decreasing=</span>T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 2 5 3</code></pre>
</div>
</div>
<p><strong>Comparativa Promethee II: sin medias y con medias</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">order</span>(tab.Pthee.ii<span class="sc">$</span>vflujos.netos, <span class="at">decreasing =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 2 5 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">order</span>(tab.Pthee.ii_med<span class="sc">$</span>vflujos.netos, <span class="at">decreasing =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 4 2 5 3</code></pre>
</div>
</div>
<p>Se nota que el orden no ha cambiado y <strong>Copenhagen</strong> es la mejor opcion.</p>
</section>
<section id="promethee-windows" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="promethee-windows"><span class="header-section-number">5.5</span> Promethee windows</h2>
<p>Otra alternativa para calcular el método PROMETHEE.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>prom_wind <span class="ot">=</span> <span class="fu">multicriterio.metodo.promethee_windows</span>(nueva.X, tab.fpref,</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>                                                  pesos.criterios)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>prom_wind</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Escenario
                       Criterio1           Criterio2          
Pesos                  "0.05"              "0.05"             
Funciones Preferencias "Linear (5)"        "Linear (5)"       
Q: Indiferencia        "0.05"              "0.05"             
P: Preferencia         "0.25"              "0.25"             
S: Gausiano            "0"                 "0"                
Minimo                 "0"                 "0"                
Maximo                 "1"                 "1"                
Media                  "0.55"              "0.56"             
Desviacion Tipica      "0.37"              "0.39"             
Copenhagen             "0"                 "0"                
Berlin                 "0.6"               "0.865079365079365"
Paris                  "0.307407407407407" "0.198412698412698"
Madrid                 "1"                 "0.753968253968254"
Rome                   "0.866666666666667" "1"                
                       Criterio3           Criterio4          
Pesos                  "0.1"               "0.25"             
Funciones Preferencias "V-shape (3)"       "Level (4)"        
Q: Indiferencia        "0"                 "0.03"             
P: Preferencia         "0.2"               "0.15"             
S: Gausiano            "0"                 "0"                
Minimo                 "0"                 "0"                
Maximo                 "1"                 "1"                
Media                  "0.59"              "0.53"             
Desviacion Tipica      "0.37"              "0.37"             
Copenhagen             "0.859956236323851" "1"                
Berlin                 "1"                 "0.417956656346749"
Paris                  "0.733041575492341" "0"                
Madrid                 "0.339168490153173" "0.907120743034056"
Rome                   "0"                 "0.328173374613003"
                       Criterio5           Criterio6          
Pesos                  "0.25"              "0.3"              
Funciones Preferencias "Level (4)"         "V-shape (3)"      
Q: Indiferencia        "0.03"              "0"                
P: Preferencia         "0.1"               "0.15"             
S: Gausiano            "0"                 "0"                
Minimo                 "0"                 "0"                
Maximo                 "1"                 "1"                
Media                  "0.54"              "0.52"             
Desviacion Tipica      "0.4"               "0.33"             
Copenhagen             "0.786666666666667" "1"                
Berlin                 "0.12"              "0.606280193236715"
Paris                  "0.8"               "0"                
Madrid                 "1"                 "0.623188405797101"
Rome                   "0"                 "0.352657004830918"

$Acciones
           Rango     Phi Phi.mas Phi.menos
Copenhagen     1  0.5328  0.7096    0.1768
Madrid         2  0.4913  0.6887    0.1973
Berlin         3  0.0263  0.4526    0.4263
Rome           4 -0.5189  0.2176    0.7365
Paris          5 -0.5316  0.1968    0.7284</code></pre>
</div>
</div>
<p>El análisis realizado con PROMETHEE windows confirma los resultados obtenidos previamente con las otras versiones del método.</p>
<p>Se conclude que segundo el metodo PROMETHEE, <strong>Copenhagen</strong> es la mejor opcion.</p>
</section>
</section>
<section id="conclusión" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Conclusión</h1>
<p>Los tres métodos aplicados (AHP, ELECTRE, PROMETHEE) coincidieron en identificar <strong>Copenhagen</strong> como la <strong>ciudad más sostenible para vivir</strong>, reforzando así la robustez y consistencia de la decision multicriterio.</p>
<p>En PROMETHEE y ELECTRE se han utilizado pesos diferentes a los de AHP para evaluar la robustez de la decisión y priorizar más los criterios de sostenibilidad y bienestar (Safety, Health Care, Pollution), reduciendo el peso de los aspectos económicos (Cost of Living, Rent, Purchasing Power).</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>